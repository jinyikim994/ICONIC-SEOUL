<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ICONIC CREATIVE STUDIO</title>
  <!-- css -->
	<link rel="stylesheet" href="./css/common.css">
  <link rel="stylesheet" href="./css/page/main/main.css">
  <!-- js -->
  <script defer src="./js/common.js"></script>
</head>
<body>
  <!-- Header -->
    <header id="main-header">
      <h1 class="logo"><a href="./index.html">ICONIC CREATIVE STUDIO</a></h1>
      <button class="mobile-btn" onclick="toggleMenu()">
        <span></span>
        <span></span>
      </button>
      <nav id="nav-menu" class="accordion-menu">
        <a href="./artist/artist_list.html">ARTISTS</a>
        <a href="./models/modesl_list.html">MODELS</a>
        <a href="./about/about.html">ABOUT</a>
        <a href="./contact/contact.html">CONTACT</a>
      </nav>
    </header>
  <!-- //Header -->

  <!-- Main -->
  <div id="main">
    <!-- gallery -->
    <div class="gallery">
      <div class="column column-1"><div class="scroller"></div></div>
      <div class="column column-2"><div class="scroller"></div></div>
      <div class="column column-3"><div class="scroller"></div></div>
    </div>
    <!-- Gallery -->
  </div>
  <!-- // Main -->

  <script>
    const column1Content = [
      { type: "img", src: "../ICONIC-SEOUL/images/main/1-1.webp", alt: "Image 1-1" },
      { type: "img", src: "../ICONIC-SEOUL/images/main/1-2.webp", alt: "Image 1-2" },
      { type: "img", src: "../ICONIC-SEOUL/images/main/1-3.webp", alt: "Image 1-3" },
      { type: "video", src: "../ICONIC-SEOUL/video/main/1-4.webm" },
      { type: "img", src: "../ICONIC-SEOUL/images/main/1-5.webp", alt: "Image 1-5" }
    ];

    const column2Content = [
      { type: "img", src: "../ICONIC-SEOUL/images/main/2-1.webp", alt: "Image 2-1" },
      { type: "video", src: "../ICONIC-SEOUL/video/main/2-2.webm" },
      { type: "img", src: "../ICONIC-SEOUL/images/main/2-3.webp", alt: "Image 2-3" }
    ];

    const column3Content = [
      { type: "img", src: "../ICONIC-SEOUL/images/main/3-1.webp", alt: "Image 3-1" },
      { type: "img", src: "../ICONIC-SEOUL/images/main/3-2.webp", alt: "Image 3-2" },
      { type: "video", src: "../ICONIC-SEOUL/video/main/3-3.webm" },
      { type: "img", src: "../ICONIC-SEOUL/images/main/3-4.webp", alt: "Image 3-4" },
    ];

    function renderScroller(columnClass, items) {
      const scroller = document.querySelector(`#main .${columnClass} .scroller`);
      // 무한 스크롤용으로 2번 반복
      const allItems = [...items, ...items];

      allItems.forEach(item => {
        const wrapper = document.createElement('div');
        wrapper.classList.add('masonry-item');

        if(item.type === "img") {
          const img = document.createElement('img');
          img.src = item.src;
          img.alt = item.alt || "";
          wrapper.appendChild(img);
        } else if(item.type === "video") {
          const video = document.createElement('video');
          video.autoplay = true;
          video.loop = true;
          video.muted = true;
          video.playsInline = true;
          video.setAttribute("decoding", "async");
          video.removeAttribute("controls"); // 재생 버튼 안 뜨게 하기

          const source = document.createElement('source');
          source.src = item.src;
          source.type = "video/webm";

          video.appendChild(source);
          wrapper.appendChild(video);
        }
        scroller.appendChild(wrapper);
      });
    }
    renderScroller('column-1', column1Content);
    renderScroller('column-2', column2Content);
    renderScroller('column-3', column3Content);
  </script>
</body>
</html>
